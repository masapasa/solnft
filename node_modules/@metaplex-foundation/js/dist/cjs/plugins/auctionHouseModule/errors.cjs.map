{"version":3,"file":"errors.cjs","sources":["../../../../src/plugins/auctionHouseModule/errors.ts"],"sourcesContent":["import {\n  MetaplexError,\n  MetaplexErrorInputWithoutSource,\n  MetaplexErrorOptions,\n} from '@/errors';\nimport { Amount, formatAmount } from '@/types';\n\n/** @group Errors */\nexport class AuctionHouseError extends MetaplexError {\n  constructor(input: MetaplexErrorInputWithoutSource) {\n    super({\n      ...input,\n      key: `plugin.auction_house.${input.key}`,\n      title: `AuctionHouse > ${input.title}`,\n      source: 'plugin',\n      sourceDetails: 'AuctionHouse',\n    });\n  }\n}\n\n/** @group Errors */\nexport class TreasuryDestinationOwnerRequiredError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'treasury_destination_owner_required',\n      title: 'Treasury Destination Owner Required',\n      problem:\n        'You are trying to update an Auction House which uses a custom token as a treasury. ' +\n        'You have not provided the \"treasuryWithdrawalDestinationOwner\" because you do not wish to change it. ' +\n        'However, the Auction House account does not keep track of that information so we cannot prefill that for you. ' +\n        'Thus, if you wish to keep the same treasury withdrawal, you must provide it explicilty.',\n      solution:\n        'Please provide the current \"treasuryWithdrawalDestinationOwner\" parameter so you can update the other fields.' +\n        'Note that we keep that parameter optional because no Associate Token Account is needed for Auction Houses ' +\n        'whose treasury is the native SOL.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class AuctioneerAuthorityRequiredError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'auctioneer_authority_required',\n      title: 'Auctioneer Authority Required',\n      problem:\n        'You are trying to use or fetch an Auction House which delegates to an Auctioneer authority ' +\n        'but you have not provided the required \"auctioneerAuthority\" parameter.',\n      solution:\n        'Please provide the \"auctioneerAuthority\" parameter so the SDK can figure out which Auctioneer instance to interact with. ' +\n        'Note that we keep that parameter optional because no Auctioneer Authority is needed for Auction Houses ' +\n        'that use native Auction House behavior.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class AuctioneerPartialSaleNotSupportedError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'auctioneer_partial_sale_not_supported',\n      title: 'Auctioneer Partial Sale Is Not Supported',\n      problem:\n        'You are trying to execute a partial sale, but partial orders are not supported in Auctioneer.',\n      solution:\n        'Any Partial Buys must be executed against a sale listed through the Auction House Sale.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class BidAndListingHaveDifferentAuctionHousesError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'bid_and_listing_have_different_auction_houses',\n      title: 'Bid And Listing Have Different Auction Houses',\n      problem:\n        'You are trying to use a Bid and a Listing from different Auction Houses.',\n      solution:\n        'Please provide both Bid and Listing from the same Auction House. ' +\n        'They should have the same \"auctionHouse.address\".',\n    });\n  }\n}\n\n/** @group Errors */\nexport class BidAndListingHaveDifferentMintsError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'bid_and_listing_have_different_mints',\n      title: 'Bid And Listing Have Different Mints',\n      problem:\n        'You are trying to execute a sale using a Bid and a Listing that have different mint addresses.',\n      solution:\n        'Please provide a Bid and a Listing on the same asset in order to execute the sale. ' +\n        'They should have the same \"asset.address\".',\n    });\n  }\n}\n\n/** @group Errors */\nexport class CanceledBidIsNotAllowedError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'canceled_bid_is_not_allowed',\n      title: 'Canceled Bid Is Not Allowed',\n      problem: 'You are trying to execute a sale using a canceled Bid.',\n      solution:\n        'Please provide a Bid that is not cancelled in order to execute the sale.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class CanceledListingIsNotAllowedError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'canceled_listing_is_not_allowed',\n      title: 'Canceled Listing Is Not Allowed',\n      problem: 'You are trying to execute a sale using a canceled Listing.',\n      solution:\n        'Please provide a Listing that is not cancelld in order to execute the sale.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class CreateListingRequiresSignerError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'create_listing_requires_signer',\n      title: 'Create Listing Requires Signer',\n      problem: 'You are trying to create a listing without providing a signer.',\n      solution: 'Either a seller or authority must be a Signer.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class WithdrawFromBuyerAccountRequiresSignerError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'withdraw_from_buyer_account_requires_signer',\n      title: 'Withdraw From Buyer Account Requires Signer',\n      problem:\n        'You are trying to withdraw from buyer account without providing a signer.',\n      solution: 'Either a buyer or authority must be a Signer.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class PartialPriceMismatchError extends AuctionHouseError {\n  constructor(\n    expected: Amount,\n    actual: Amount,\n    options?: MetaplexErrorOptions\n  ) {\n    super({\n      options,\n      key: 'partial_price_mismatch_signer',\n      title:\n        'The calculated partial price does not equal the partial price provided',\n      problem: `Expected to receive ${formatAmount(\n        expected\n      )} per SFT but provided ${formatAmount(actual)} per SFT.`,\n      solution:\n        'The token price must equal the price it has in the listing. ' +\n        'If executing a partial sale, ' +\n        'divide the total price by the number of total tokens on sale and multiply it by the number of tokens you want to buy.',\n    });\n  }\n}\n"],"names":["AuctionHouseError","MetaplexError","constructor","input","key","title","source","sourceDetails","TreasuryDestinationOwnerRequiredError","options","problem","solution","AuctioneerAuthorityRequiredError","AuctioneerPartialSaleNotSupportedError","BidAndListingHaveDifferentAuctionHousesError","BidAndListingHaveDifferentMintsError","CanceledBidIsNotAllowedError","CanceledListingIsNotAllowedError","CreateListingRequiresSignerError","WithdrawFromBuyerAccountRequiresSignerError","PartialPriceMismatchError","expected","actual","formatAmount"],"mappings":"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"}