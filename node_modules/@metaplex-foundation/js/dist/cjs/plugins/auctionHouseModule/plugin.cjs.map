{"version":3,"file":"plugin.cjs","sources":["../../../../src/plugins/auctionHouseModule/plugin.ts"],"sourcesContent":["import { cusper } from '@metaplex-foundation/mpl-auction-house';\nimport type { Metaplex } from '@/Metaplex';\nimport type { ErrorWithLogs, MetaplexPlugin } from '@/types';\nimport { AuctionHouseClient } from './AuctionHouseClient';\nimport { AuctionHouseProgram } from './program';\nimport {\n  cancelBidOperation,\n  cancelBidOperationHandler,\n  cancelListingOperation,\n  cancelListingOperationHandler,\n  createAuctionHouseOperation,\n  createAuctionHouseOperationHandler,\n  createBidOperation,\n  createBidOperationHandler,\n  createListingOperation,\n  createListingOperationHandler,\n  depositToBuyerAccountOperation,\n  depositToBuyerAccountOperationHandler,\n  executeSaleOperation,\n  executeSaleOperationHandler,\n  findAuctionHouseByAddressOperation,\n  findAuctionHouseByAddressOperationHandler,\n  findAuctionHouseByCreatorAndMintOperation,\n  findAuctionHouseByCreatorAndMintOperationHandler,\n  findBidByReceiptOperation,\n  findBidByReceiptOperationHandler,\n  findBidByTradeStateOperation,\n  findBidByTradeStateOperationHandler,\n  findBidsByPublicKeyFieldOperation,\n  findBidsByPublicKeyFieldOperationHandler,\n  findListingByReceiptOperation,\n  findListingByReceiptOperationHandler,\n  findListingByTradeStateOperation,\n  findListingByTradeStateOperationHandler,\n  findListingsByPublicKeyFieldOperation,\n  findListingsByPublicKeyFieldOperationHandler,\n  findPurchaseByReceiptOperation,\n  findPurchaseByReceiptOperationHandler,\n  findPurchaseByTradeStateOperation,\n  findPurchaseByTradeStateOperationHandler,\n  findPurchasesByPublicKeyFieldOperation,\n  findPurchasesByPublicKeyFieldOperationHandler,\n  getBuyerBalanceOperation,\n  getBuyerBalanceOperationHandler,\n  loadBidOperation,\n  loadBidOperationHandler,\n  loadListingOperation,\n  loadListingOperationHandler,\n  loadPurchaseOperation,\n  loadPurchaseOperationHandler,\n  updateAuctionHouseOperation,\n  updateAuctionHouseOperationHandler,\n  withdrawFromBuyerAccountOperation,\n  withdrawFromBuyerAccountOperationHandler,\n  withdrawFromFeeAccountOperation,\n  withdrawFromFeeAccountOperationHandler,\n  withdrawFromTreasuryAccountOperation,\n  withdrawFromTreasuryAccountOperationHandler,\n} from './operations';\n\n/** @group Plugins */\nexport const auctionHouseModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Auction House Program.\n    metaplex.programs().register({\n      name: 'AuctionHouseProgram',\n      address: AuctionHouseProgram.publicKey,\n      errorResolver: (error: ErrorWithLogs) =>\n        cusper.errorFromProgramLogs(error.logs, false),\n    });\n\n    const op = metaplex.operations();\n    op.register(cancelBidOperation, cancelBidOperationHandler);\n    op.register(cancelListingOperation, cancelListingOperationHandler);\n    op.register(\n      createAuctionHouseOperation,\n      createAuctionHouseOperationHandler\n    );\n    op.register(createBidOperation, createBidOperationHandler);\n    op.register(createListingOperation, createListingOperationHandler);\n    op.register(\n      depositToBuyerAccountOperation,\n      depositToBuyerAccountOperationHandler\n    );\n    op.register(executeSaleOperation, executeSaleOperationHandler);\n    op.register(\n      findAuctionHouseByAddressOperation,\n      findAuctionHouseByAddressOperationHandler\n    );\n    op.register(\n      findAuctionHouseByCreatorAndMintOperation,\n      findAuctionHouseByCreatorAndMintOperationHandler\n    );\n    op.register(findBidByReceiptOperation, findBidByReceiptOperationHandler);\n    op.register(\n      findBidByTradeStateOperation,\n      findBidByTradeStateOperationHandler\n    );\n    op.register(\n      findBidsByPublicKeyFieldOperation,\n      findBidsByPublicKeyFieldOperationHandler\n    );\n    op.register(\n      findListingByReceiptOperation,\n      findListingByReceiptOperationHandler\n    );\n    op.register(\n      findListingByTradeStateOperation,\n      findListingByTradeStateOperationHandler\n    );\n    op.register(\n      findListingsByPublicKeyFieldOperation,\n      findListingsByPublicKeyFieldOperationHandler\n    );\n    op.register(\n      findPurchaseByReceiptOperation,\n      findPurchaseByReceiptOperationHandler\n    );\n    op.register(\n      findPurchaseByTradeStateOperation,\n      findPurchaseByTradeStateOperationHandler\n    );\n    op.register(\n      findPurchasesByPublicKeyFieldOperation,\n      findPurchasesByPublicKeyFieldOperationHandler\n    );\n    op.register(getBuyerBalanceOperation, getBuyerBalanceOperationHandler);\n    op.register(loadBidOperation, loadBidOperationHandler);\n    op.register(loadListingOperation, loadListingOperationHandler);\n    op.register(loadPurchaseOperation, loadPurchaseOperationHandler);\n    op.register(\n      updateAuctionHouseOperation,\n      updateAuctionHouseOperationHandler\n    );\n    op.register(\n      withdrawFromBuyerAccountOperation,\n      withdrawFromBuyerAccountOperationHandler\n    );\n    op.register(\n      withdrawFromFeeAccountOperation,\n      withdrawFromFeeAccountOperationHandler\n    );\n    op.register(\n      withdrawFromTreasuryAccountOperation,\n      withdrawFromTreasuryAccountOperationHandler\n    );\n\n    metaplex.auctionHouse = function () {\n      return new AuctionHouseClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    auctionHouse(): AuctionHouseClient;\n  }\n}\n"],"names":["auctionHouseModule","install","metaplex","programs","register","name","address","AuctionHouseProgram","publicKey","errorResolver","error","cusper","errorFromProgramLogs","logs","op","operations","cancelBidOperation","cancelBidOperationHandler","cancelListingOperation","cancelListingOperationHandler","createAuctionHouseOperation","createAuctionHouseOperationHandler","createBidOperation","createBidOperationHandler","createListingOperation","createListingOperationHandler","depositToBuyerAccountOperation","depositToBuyerAccountOperationHandler","executeSaleOperation","executeSaleOperationHandler","findAuctionHouseByAddressOperation","findAuctionHouseByAddressOperationHandler","findAuctionHouseByCreatorAndMintOperation","findAuctionHouseByCreatorAndMintOperationHandler","findBidByReceiptOperation","findBidByReceiptOperationHandler","findBidByTradeStateOperation","findBidByTradeStateOperationHandler","findBidsByPublicKeyFieldOperation","findBidsByPublicKeyFieldOperationHandler","findListingByReceiptOperation","findListingByReceiptOperationHandler","findListingByTradeStateOperation","findListingByTradeStateOperationHandler","findListingsByPublicKeyFieldOperation","findListingsByPublicKeyFieldOperationHandler","findPurchaseByReceiptOperation","findPurchaseByReceiptOperationHandler","findPurchaseByTradeStateOperation","findPurchaseByTradeStateOperationHandler","findPurchasesByPublicKeyFieldOperation","findPurchasesByPublicKeyFieldOperationHandler","getBuyerBalanceOperation","getBuyerBalanceOperationHandler","loadBidOperation","loadBidOperationHandler","loadListingOperation","loadListingOperationHandler","loadPurchaseOperation","loadPurchaseOperationHandler","updateAuctionHouseOperation","updateAuctionHouseOperationHandler","withdrawFromBuyerAccountOperation","withdrawFromBuyerAccountOperationHandler","withdrawFromFeeAccountOperation","withdrawFromFeeAccountOperationHandler","withdrawFromTreasuryAccountOperation","withdrawFromTreasuryAccountOperationHandler","auctionHouse","AuctionHouseClient"],"mappings":"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"}